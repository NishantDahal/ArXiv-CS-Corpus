On a Conjecture of Butler and Graham

Motivated by a hat guessing problem proposed by Iwasawa  \cite{Iwasawa10}, Butler and Graham \cite{Butler11} made the following conjecture on the existence of certain way of marking the {\em coordinate lines} in $[k]^n$: there exists a way to mark one point on each {\em coordinate line} in $[k]^n$, so that every point in $[k]^n$ is marked exactly $a$ or $b$ times as long as the parameters $(a,b,n,k)$ satisfies that there are non-negative integers $s$ and $t$ such that $s+t = k^n$ and $as+bt = nk^{n-1}$. In this paper we prove this conjecture for any prime number $k$. Moreover, we prove the conjecture for the case when $a=0$ for general $k$.
