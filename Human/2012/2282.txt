Hardness of Mastermind

Mastermind is a popular board game released in 1971, where a codemaker chooses a secret pattern of colored pegs, and a codebreaker has to guess it in several trials. After each attempt, the codebreaker gets a response from the codemaker containing some information on the number of correctly guessed pegs. The search space is thus reduced at each turn, and the game continues until the codebreaker is able to find the correct code, or runs out of trials.
  In this paper we study several variations of #MSP, the problem of computing the size of the search space resulting from a given (possibly fictitious) sequence of guesses and responses. Our main contribution is a proof of the #P-completeness of #MSP under parsimonious reductions, which settles an open problem posed by Stuckman and Zhang in 2005, concerning the complexity of deciding if the secret code is uniquely determined by the previous guesses and responses. Similarly, #MSP stays #P-complete under Turing reductions even with the promise that the search space has at least k elements, for any constant k. (In a regular game of Mastermind, k=1.)
  All our hardness results hold even in the most restrictive setting, in which there are only two available peg colors, and also if the codemaker's responses contain less information, for instance like in the so-called single-count (black peg) Mastermind variation.
