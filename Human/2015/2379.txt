Abelian complexity function of the Tribonacci word

According to a result of Richomme, Saari and Zamboni, the abelian complexity of the Tribonacci word satisfies $ρ^{\mathrm{ab}}(n)\in\{3,4,5,6,7\}$ for each $n\in\mathbb{N}$. In this paper we derive an automaton that evaluates the function $ρ^{\mathrm{ab}}(n)$ explicitly. The automaton takes the Tribonacci representation of $n$ as its input; therefore, $(ρ^{\mathrm{ab}}(n))_{n\in\mathbb{N}}$ is an automatic sequence in a generalized sense. Since our evaluation of $ρ^{\mathrm{ab}}(n)$ uses $\mathcal{O}(\log n)$ operations, it is fast even for large values of $n$. Our result also leads to a solution of an open problem proposed by Richomme et al. concerning the characterization of those $n$ for which $ρ^{\mathrm{ab}}(n)=c$ with $c$ belonging to $\{4,5,6,7\}$. In addition, we apply the same approach on the $4$-bonacci word. In this way we find a description of the abelian complexity of the $4$-bonacci word, too.
