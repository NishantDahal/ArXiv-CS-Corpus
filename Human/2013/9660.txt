Experiences with Automated Build and Test for Geodynamics Simulation Codes

The Computational Infrastructure for Geodynamics (CIG) is an NSF funded project that develops, supports, and disseminates community-accessible software for the geodynamics research community. CIG software supports a variety of computational geodynamic research from mantle and core dynamics, to crustal and earthquake dynamics, to magma migration and seismology. To support this type of project a backend computational infrastructure is necessary.
  Part of this backend infrastructure is an automated build and testing system to ensure codes and changes to them are compatible with multiple platforms and that the changes do not significantly affect the scientific results. In this paper we describe the build and test infrastructure for CIG based on the BaTLab system, how it is organized, and how it assists in operations. We demonstrate the use of this type of testing for a suite of geophysics codes, show why codes may compile on one platform but not on another, and demonstrate how minor changes may alter the computed results in unexpected ways that can influence the scientific interpretation. Finally, we examine result comparison between platforms and show how the compiler or operating system may affect results.
